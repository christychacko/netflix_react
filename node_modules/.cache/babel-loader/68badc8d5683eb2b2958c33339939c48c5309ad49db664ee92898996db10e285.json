{"ast":null,"code":"'use strict';\n\nconst async = require('async');\n\n/**\n* Array of Items, for easy conversion to Objects\n* @class\n*/\nclass ItemArray extends Array {\n  /**\n  * Create the ItemArray\n  */\n  constructor() {\n    super();\n    this._meta = {\n      total: 0,\n      offset: 0\n    };\n  }\n\n  /**\n  * Convert a normal Array into a ItemArray\n  * @param {Array} arr The array of child objects\n  */\n  static from(arr) {\n    let itemArray = new this();\n    itemArray.push.apply(itemArray, arr);\n    return itemArray;\n  }\n\n  /**\n  * Sets metadata for the modelArray\n  * @param {Object} data values to set\n  */\n  setMeta(data) {\n    Object.keys(data).forEach(k => this._meta[k] = data[k]);\n    return this._meta;\n  }\n\n  /**\n  * Creates an Array of plain objects from the ModelArray, with properties matching an optional interface\n  * @param {Array} arrInterface Interface to use for object creation for each model\n  */\n  toObject(arrInterface) {\n    let keys = [];\n    if (this.length) {\n      keys = Object.keys(this[0]);\n      if (arrInterface && arrInterface.length) {\n        keys = keys.filter(k => arrInterface.indexOf(k) !== -1);\n      }\n    }\n    return this.map(m => {\n      return keys.reduce((p, k) => {\n        p[k] = m[k];\n        return p;\n      }, {});\n    });\n  }\n}\nmodule.exports = ItemArray;","map":{"version":3,"names":["async","require","ItemArray","Array","constructor","_meta","total","offset","from","arr","itemArray","push","apply","setMeta","data","Object","keys","forEach","k","toObject","arrInterface","length","filter","indexOf","map","m","reduce","p","module","exports"],"sources":["/Users/apps/node_modules/carthage/core/required/item_array.js"],"sourcesContent":["'use strict';\n\nconst async = require('async');\n\n/**\n* Array of Items, for easy conversion to Objects\n* @class\n*/\nclass ItemArray extends Array {\n\n  /**\n  * Create the ItemArray\n  */\n  constructor() {\n\n    super();\n    this._meta = {\n      total: 0,\n      offset: 0\n    };\n\n  }\n\n  /**\n  * Convert a normal Array into a ItemArray\n  * @param {Array} arr The array of child objects\n  */\n  static from(arr) {\n\n    let itemArray = new this();\n    itemArray.push.apply(itemArray, arr);\n\n    return itemArray;\n\n  }\n\n  /**\n  * Sets metadata for the modelArray\n  * @param {Object} data values to set\n  */\n  setMeta(data) {\n\n    Object.keys(data).forEach(k => this._meta[k] = data[k]);\n    return this._meta;\n\n  }\n\n  /**\n  * Creates an Array of plain objects from the ModelArray, with properties matching an optional interface\n  * @param {Array} arrInterface Interface to use for object creation for each model\n  */\n  toObject(arrInterface) {\n\n    let keys = [];\n\n    if (this.length) {\n\n      keys = Object.keys(this[0]);\n\n      if (arrInterface && arrInterface.length) {\n        keys = keys.filter(k => (arrInterface.indexOf(k) !== -1));\n      }\n\n    }\n\n    return this.map(m => {\n      return keys.reduce((p, k) => {\n        p[k] = m[k];\n        return p;\n      }, {});\n    });\n\n  }\n\n}\n\nmodule.exports = ItemArray;\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAO,CAAC;;AAE9B;AACA;AACA;AACA;AACA,MAAMC,SAAS,SAASC,KAAK,CAAC;EAE5B;AACF;AACA;EACEC,WAAWA,CAAA,EAAG;IAEZ,KAAK,CAAC,CAAC;IACP,IAAI,CAACC,KAAK,GAAG;MACXC,KAAK,EAAE,CAAC;MACRC,MAAM,EAAE;IACV,CAAC;EAEH;;EAEA;AACF;AACA;AACA;EACE,OAAOC,IAAIA,CAACC,GAAG,EAAE;IAEf,IAAIC,SAAS,GAAG,IAAI,IAAI,CAAC,CAAC;IAC1BA,SAAS,CAACC,IAAI,CAACC,KAAK,CAACF,SAAS,EAAED,GAAG,CAAC;IAEpC,OAAOC,SAAS;EAElB;;EAEA;AACF;AACA;AACA;EACEG,OAAOA,CAACC,IAAI,EAAE;IAEZC,MAAM,CAACC,IAAI,CAACF,IAAI,CAAC,CAACG,OAAO,CAACC,CAAC,IAAI,IAAI,CAACb,KAAK,CAACa,CAAC,CAAC,GAAGJ,IAAI,CAACI,CAAC,CAAC,CAAC;IACvD,OAAO,IAAI,CAACb,KAAK;EAEnB;;EAEA;AACF;AACA;AACA;EACEc,QAAQA,CAACC,YAAY,EAAE;IAErB,IAAIJ,IAAI,GAAG,EAAE;IAEb,IAAI,IAAI,CAACK,MAAM,EAAE;MAEfL,IAAI,GAAGD,MAAM,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;MAE3B,IAAII,YAAY,IAAIA,YAAY,CAACC,MAAM,EAAE;QACvCL,IAAI,GAAGA,IAAI,CAACM,MAAM,CAACJ,CAAC,IAAKE,YAAY,CAACG,OAAO,CAACL,CAAC,CAAC,KAAK,CAAC,CAAE,CAAC;MAC3D;IAEF;IAEA,OAAO,IAAI,CAACM,GAAG,CAACC,CAAC,IAAI;MACnB,OAAOT,IAAI,CAACU,MAAM,CAAC,CAACC,CAAC,EAAET,CAAC,KAAK;QAC3BS,CAAC,CAACT,CAAC,CAAC,GAAGO,CAAC,CAACP,CAAC,CAAC;QACX,OAAOS,CAAC;MACV,CAAC,EAAE,CAAC,CAAC,CAAC;IACR,CAAC,CAAC;EAEJ;AAEF;AAEAC,MAAM,CAACC,OAAO,GAAG3B,SAAS"},"metadata":{},"sourceType":"script","externalDependencies":[]}