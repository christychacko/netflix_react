{"ast":null,"code":"var _ = require('lodash');\nvar __slice = Array.prototype.slice;\nvar utils = require(\"./utils\");\nvar deprecator = utils.deprecator;\nfunction Asserter(_assert) {\n  this.assert = _assert;\n}\n\n/**\n * asserters.nonEmptyText\n *\n * @asserter\n */\nvar nonEmptyText = new Asserter(function (target, cb) {\n  target.text(function (err, text) {\n    if (err) {\n      return cb(err);\n    }\n    var satisfied = text && _(text).trim().length > 0;\n    cb(null, satisfied, satisfied ? text : undefined);\n  });\n});\n\n/**\n * asserters.textInclude(content) -> Asserter\n *\n * @asserter\n */\nfunction textInclude(content) {\n  return new Asserter(function (target, cb) {\n    target.text(function (err, text) {\n      if (err) {\n        return cb(err);\n      }\n      var satisfied = text && _(text).includes(content);\n      cb(null, satisfied, satisfied ? text : undefined);\n    });\n  });\n}\n\n/**\n * asserters.isVisible\n *\n * @asserter\n */\nvar isDisplayed = new Asserter(function (el, cb) {\n  el.isDisplayed(function (err, displayed) {\n    if (err) {\n      return cb(err);\n    }\n    cb(null, displayed);\n  });\n});\nvar isVisible = new Asserter(function () {\n  deprecator.warn('isVisible asserter', 'isVisible asserter has been deprecated, use isDisplayed asserter instead.');\n  var args = __slice.call(arguments, 0);\n  isDisplayed.assert.apply(this, args);\n});\n\n/**\n * asserters.isHidden\n *\n * @asserter\n */\nvar isNotDisplayed = new Asserter(function (el, cb) {\n  el.isDisplayed(function (err, displayed) {\n    if (err) {\n      return cb(err);\n    }\n    cb(null, !displayed);\n  });\n});\nvar isHidden = new Asserter(function () {\n  deprecator.warn('isHidden asserter', 'isHidden asserter has been deprecated, use isNotDisplayed asserter instead.');\n  var args = __slice.call(arguments, 0);\n  isNotDisplayed.assert.apply(this, args);\n});\n\n/**\n * asserters.jsCondition(jsConditionExpr) -> Asserter\n * jsConditionExpr: js script expression, should evaluate as boolean.\n *\n * @asserter\n */\nfunction jsCondition(jsConditionExpr, safe) {\n  if (safe === undefined) {\n    safe = false;\n  }\n  return new Asserter(function (browser, cb) {\n    var _eval = safe ? browser.safeEval : browser.eval;\n    _eval.apply(browser, [jsConditionExpr, function (err, res) {\n      if (err) {\n        return cb(err);\n      }\n      cb(null, res, res);\n    }]);\n  });\n}\nmodule.exports = {\n  Asserter: Asserter,\n  nonEmptyText: nonEmptyText,\n  isDisplayed: isDisplayed,\n  isNotDisplayed: isNotDisplayed,\n  textInclude: textInclude,\n  jsCondition: jsCondition,\n  // deprecated\n  isVisible: isVisible,\n  isHidden: isHidden\n};","map":{"version":3,"names":["_","require","__slice","Array","prototype","slice","utils","deprecator","Asserter","_assert","assert","nonEmptyText","target","cb","text","err","satisfied","trim","length","undefined","textInclude","content","includes","isDisplayed","el","displayed","isVisible","warn","args","call","arguments","apply","isNotDisplayed","isHidden","jsCondition","jsConditionExpr","safe","browser","_eval","safeEval","eval","res","module","exports"],"sources":["/Users/apps/node_modules/wd/lib/asserters.js"],"sourcesContent":["var _ = require('lodash');\nvar __slice = Array.prototype.slice;\nvar utils = require(\"./utils\");\nvar deprecator = utils.deprecator;\n\nfunction Asserter(_assert){\n  this.assert = _assert;\n}\n\n/**\n * asserters.nonEmptyText\n *\n * @asserter\n */\nvar nonEmptyText = new Asserter(\n  function (target, cb) {\n    target.text(function(err, text) {\n      if(err) { return cb(err); }\n      var satisfied = text && _(text).trim().length > 0;\n      cb(null, satisfied, satisfied? text : undefined);\n    });\n  }\n);\n\n/**\n * asserters.textInclude(content) -> Asserter\n *\n * @asserter\n */\nfunction textInclude(content) {\n  return new Asserter(\n    function(target, cb) {\n      target.text(function(err, text) {\n        if(err) { return cb(err); }\n        var satisfied = text && _(text).includes(content);\n        cb(null, satisfied, satisfied? text : undefined);\n      });\n    }\n  );\n}\n\n/**\n * asserters.isVisible\n *\n * @asserter\n */\nvar isDisplayed = new Asserter(\n  function(el,cb) {\n    el.isDisplayed(function(err, displayed) {\n      if(err) { return cb(err); }\n      cb(null, displayed);\n    });\n  }\n);\nvar isVisible = new Asserter(\n  function() {\n    deprecator.warn('isVisible asserter', 'isVisible asserter has been deprecated, use isDisplayed asserter instead.');\n    var args = __slice.call(arguments, 0);\n    isDisplayed.assert.apply(this, args);\n  }\n);\n\n/**\n * asserters.isHidden\n *\n * @asserter\n */\nvar isNotDisplayed = new Asserter(\n  function(el,cb) {\n    el.isDisplayed(function(err, displayed) {\n      if(err) { return cb(err); }\n      cb(null, !displayed);\n    });\n  }\n);\nvar isHidden = new Asserter(\n  function() {\n    deprecator.warn('isHidden asserter', 'isHidden asserter has been deprecated, use isNotDisplayed asserter instead.');\n    var args = __slice.call(arguments, 0);\n    isNotDisplayed.assert.apply(this, args);\n  }\n);\n\n/**\n * asserters.jsCondition(jsConditionExpr) -> Asserter\n * jsConditionExpr: js script expression, should evaluate as boolean.\n *\n * @asserter\n */\nfunction jsCondition(jsConditionExpr, safe) {\n  if(safe === undefined) { safe = false; }\n  return new Asserter(\n    function(browser, cb) {\n      var _eval = safe? browser.safeEval : browser.eval;\n      _eval.apply( browser , [jsConditionExpr, function(err, res) {\n        if(err) {return cb(err);}\n        cb(null, res, res);\n      }]);\n    }\n  );\n}\n\nmodule.exports = {\n  Asserter: Asserter,\n  nonEmptyText: nonEmptyText,\n  isDisplayed: isDisplayed,\n  isNotDisplayed: isNotDisplayed,\n  textInclude: textInclude,\n  jsCondition: jsCondition,\n  // deprecated\n  isVisible: isVisible,\n  isHidden: isHidden,\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}